"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7131],{83464:function(f,b,a){a.r(b);var g=a(50029),c=a(87794),h=a.n(c),d=a(5152),e=a.n(d),i=a(67294),j=a(19331),k=a(33297),l=a(18215),m=a(85893),n=e()(function(){return a.e(2371).then(a.bind(a,52371))},{ssr:!1,loadableGenerated:{webpack:function(){return[52371]}}});b.default=function(a){var p=a.contentItem,b=a.product,c=(0,i.useState)([]),d=c[0],r=c[1],e=(0,i.useState)({}),f=e[0],s=e[1],o=(0,i.useState)(!1),q=o[0],t=o[1];return(0,i.useEffect)(function(){if(!(0,l.ES)(b)){var a;(a=(0,g.Z)(h().mark(function a(){var c;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,j.$s)({productId:b.productId});case 3:r(null==(c=a.sent)?void 0:c.data.relatedProducts),s(null==c?void 0:c.data.product),t(!0),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}},a,null,[[0,9]])})),function(){return a.apply(this,arguments)})()}},[b,b.productId]),(0,m.jsxs)(m.Fragment,{children:[!q&&(0,m.jsx)("div",{}),(0,k.UE)(d)&&f&&(0,m.jsx)(n,{product:f,relatedProducts:d,contentItem:p})]})}},19331:function(j,d,a){a.d(d,{"$s":function(){return q},K5:function(){return p},aJ:function(){return o},n0:function(){return n}});var e,f,g,h,b=a(50029),i=a(87794),c=a.n(i),k=a(84193),l=a(67741),m=a(38531),n=(e=(0,b.Z)(c().mark(function a(b){var d;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,k.x1)("recommendation.checkProductRelated",b);case 3:return d=a.sent,a.abrupt("return",null==d?void 0:d.data);case 7:a.prev=7,a.t0=a.catch(0),m.Z.error(a.t0);case 10:case"end":return a.stop()}},a,null,[[0,7]])})),function(a){return e.apply(this,arguments)}),o=(f=(0,b.Z)(c().mark(function a(b){var d;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,k.x1)("recommendation.recommendationsProduct",b);case 3:return d=a.sent,a.abrupt("return",d);case 7:return a.prev=7,a.t0=a.catch(0),m.Z.error(a.t0),a.abrupt("return",new l.CQ("N\xe3o foi poss\xedvel carregar as recomenda\xe7\xf5es"));case 11:case"end":return a.stop()}},a,null,[[0,7]])})),function(a){return f.apply(this,arguments)}),p=(g=(0,b.Z)(c().mark(function a(b,d,e){var f,g;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,f={skuId:b,sessionProducts:e,imageUrl:d},a.next=4,(0,k.x1)("recommendation.recommendationsProductSimilar",f);case 4:return g=a.sent,a.abrupt("return",g);case 8:throw a.prev=8,a.t0=a.catch(0),new Error("N\xe3o foi poss\xedvel carregar os produtos similares");case 11:case"end":return a.stop()}},a,null,[[0,8]])})),function(a,b,c){return g.apply(this,arguments)}),q=(h=(0,b.Z)(c().mark(function a(b){var d;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,k.x1)("recommendation.getCombinedProduct",b);case 3:return d=a.sent,a.abrupt("return",d);case 7:throw a.prev=7,a.t0=a.catch(0),new Error("N\xe3o foi poss\xedvel carregar os produtos similares");case 10:case"end":return a.stop()}},a,null,[[0,7]])})),function(a){return h.apply(this,arguments)})},18215:function(c,b,a){a.d(b,{Ak:function(){return l},E3:function(){return r},ES:function(){return p},HV:function(){return t},HW:function(){return u},LP:function(){return o},a_:function(){return n},ow:function(){return m},wB:function(){return q}}),a(81898);var d=a(7792),e=a(99569),f=a(40097),g=a(38531),h=a(63291),i=a(10654),j=a(24870),k=function(b){var a=(0,e.Rw)(b,"prop.sku.freeGift");if(a)return Array.isArray(a)||g.Z.warn("attribute prop.sku.freeGift is not an array. {0}",a),a.map(function(a){return JSON.parse(a)})},l=function(a){return{description:(0,f.IL)(a,"prop.product.displayName"),img:(0,f.IL)(a,"prop.product.smallImageUrl"),link:(0,f.IL)(a,"prop.product.url"),skuList:(0,e.Rw)(a,"prop.product.skuListRefAttribute"),skuId:(0,e.Rw)(a,"prop.product.defaultSku"),defaultSku:(0,f.IL)(a,"prop.product.defaultSku"),productId:(0,f.IL)(a,"prop.product.repositoryId"),stampIds:(0,e.Rw)(a,"prop.product.availableStamps"),freeGift:k(a),brand:(0,f.IL)(a,"prop.product.brand.name"),category:(0,f.sm)(a,"dim.product.categoryHierarchy")[0]||"",id:(0,f.IL)(a,"prop.product.repositoryId"),url:"".concat(d.V.SiteStore.site.publicUrl||((0,i.sk)()?"":window.location.href)).concat((0,f.IL)(a,"prop.product.url"),"?sku=").concat((0,f.IL)(a,"prop.product.defaultSku")),price:(0,f.IL)(a,"prop.sku.activePrice"),recordId:(0,f.IL)(a,"record.id")}},m=function(a,b){if(!b)return Array.isArray(a)?a:[a||""];if(!a)return[b];var c=[];return(c=(c=Array.isArray(a)?a:a.split(",")).filter(function(a){return a!==b})).unshift(b),c},n=function(a){return(0,f.IL)(a.record,"dim.product.productModel")===h.e3},o=function(a){return(0,f.IL)(a.record,"dim.product.productModel")===h.cy},p=function(a){return a.productModel===h.cy},q=function(a,d){if(a.preOrder)return d||(0,j.nI)("product","product.box.preOrder.nodate.label");var b,c=null==a?void 0:null===(b=a.stamps)|| void 0===b?void 0:b.find(function(a){return!!a.description&&"tag"!==a.stampModel});return c&&c.description},r=function(b,c){var a;return b&&(null===(a=Object.keys(b))|| void 0===a?void 0:a.length)!==0?h.a3:c?c.includes("<")?h.JI:h.qJ:void 0},s=["perfumaria-e-cosmeticos","perfumeria-y-cosmeticos"],t=function b(a){return Array.isArray(a)?b(a[0]):s.some(function(b){return a.startsWith(b)})},u=function(a){return!a.hexCode&&a.image}}}])